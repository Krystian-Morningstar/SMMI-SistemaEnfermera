<head>
    <script type="text/javascript">
        window.addEventListener('popstate', function(event) {
            // Redirect to the specific URL when the back button is pressed
            window.location.href = 'https://localhost:4200';
        });

        // Function to add a new entry to the browser history
        function addHistoryEntry() {
            history.pushState(null, null, window.location.pathname);
        }

        // Call the function to add a history entry on page load
        window.onload = addHistoryEntry;
    </script>
</head>
<body>
    <section>
        <div class="loadingState" *ngIf="loading; else loaded">
            <h2 class="loading">Cargando datos...</h2>
            <img id="cargandoGif" src="assets/gif/cargando.gif" alt="cargando">
        </div>
        <ng-template #loaded class="ready">
            <div class="detailsContainer">
                <div class="header">
                    <h2>Habitación {{ pacientDetails.id_habitacion }}</h2>
                </div>
                <div class="details">
                    <div class="information">
                        <p class="name">Nombre: <span>{{pacientDetails.nombres}}</span></p>
                        <p class="age">Edad: <span>{{pacientDetails.edad}}</span></p>
                        <br>
                        <p class="suffering">Padecimiento: <span>{{pacientDetails.padecimientos}}</span></p>
                        <br>
                        <p class="sex">Sexo: <span>{{pacientDetails.sexo}}</span></p>
                        <p class="allergies">Alergias: <span>{{pacientDetails.alergias}}</span></p>
                        <br>
                        <p class="cause">Causa de ingreso: <span>{{pacientDetails.causa_ingreso}}</span></p>
                        <br>
                        <p class="specialty">Especialidad asignada: <span>{{pacientDetails.especialidad}}</span></p>
                    </div>
                    <div class="graphics">
                        <div class="oxigen">
                            <h3>Oxigenación</h3>
                            <apx-chart #oxig
                                [series]="oxigOptions.series!" 
                                [chart]="oxigOptions.chart!" 
                                [title]="oxigOptions.title!"
                                [xaxis]="oxigOptions.xaxis!">
                            </apx-chart>
                        </div>
                        <div class="freqCard">
                            <h3>Frequencia cardiaca</h3>
                            <apx-chart #freqCard
                                [series]="freqCardOptions.series!" 
                                [chart]="freqCardOptions.chart!" 
                                [title]="freqCardOptions.title!"
                                [xaxis]="freqCardOptions.xaxis!">
                            </apx-chart>
                        </div>
                        <div class="presArt">
                            <h3>Presión arterial</h3>
                            <apx-chart #presArt
                                [series]="presArtOptions.series!" 
                                [chart]="presArtOptions.chart!" 
                                [title]="presArtOptions.title!"
                                [xaxis]="presArtOptions.xaxis!">
                            </apx-chart>
                        </div>
                        <div class="tempCorp">
                            <h3>Temperatura corporal</h3>
                            <apx-chart #tempCorp
                                [series]="tempCorpOptions.series!" 
                                [chart]="tempCorpOptions.chart!" 
                                [title]="tempCorpOptions.title!"
                                [xaxis]="tempCorpOptions.xaxis!">
                            </apx-chart>
                        </div>
                    </div>
                    <div class="buttons">
                        <button (click)="showPrescriptions()" id="prescriptions">Recetas</button>
                        <button (click)="showReports()" id="reports">Reportes<span id="redCircle" *ngIf="thereReports"></span></button>
                    </div>
                </div>
            </div>
        </ng-template>
    </section>
</body>

